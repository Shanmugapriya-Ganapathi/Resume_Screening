{% extends 'base.html' %}
{% block content %}
<div class="mb-4">
	<h1 class="section-title mb-2">
		<i class="fas fa-search"></i> Resume Analysis & Screening
	</h1>
	<p class="color-fg-muted">Upload a single resume or process multiple resumes against a job description to find the best matches.</p>
</div>

<div class="d-flex flex-justify-between flex-items-start flex-column flex-lg-row gap-4">
	<div class="flex-1 min-width-0">
		<div class="Box">
			<div class="Box-header d-flex flex-items-center">
				<h3 class="Box-title mb-0">
					<i class="fas fa-file-upload"></i> Single Resume Analysis
				</h3>
			</div>
			<div class="Box-body">
				<div class="info-box">
					<i class="fas fa-info-circle"></i> <strong>Quick Analysis:</strong> Upload a single resume to extract keywords, skills, contact information, and entities.
				</div>
				<form action="{{ url_for('upload') }}" method="post" enctype="multipart/form-data">
					<div class="form-group mb-3">
						<div class="form-group-header">
							<label>
								<i class="fas fa-file-pdf"></i> Resume File (PDF or DOCX)
								<span class="tooltip-icon" title="Supported formats: PDF and Microsoft Word documents">ℹ️</span>
							</label>
						</div>
						<div class="form-group-body">
							<input name="resume" type="file" accept=".pdf,.docx" class="form-control" required>
						</div>
					</div>
					<div class="d-flex flex-wrap gap-3 align-items-end">
						<div style="width:180px;">
							<div class="form-group-header">
								<label>
									Top Keywords
									<span class="tooltip-icon" title="Number of top keywords to extract and display">ℹ️</span>
								</label>
							</div>
							<div class="form-group-body">
								<input name="top_keywords" type="number" min="5" max="50" value="20" class="form-control">
							</div>
						</div>
						<div class="form-checkbox">
							<label>
								<input name="show_entities" type="checkbox" checked> 
								<i class="fas fa-tags"></i> Show Named Entities
							</label>
						</div>
						<div class="form-checkbox">
							<label>
								<input name="show_contact" type="checkbox" checked> 
								<i class="fas fa-address-card"></i> Show Contact Info
							</label>
						</div>
					</div>
					<div class="mt-3">
						<button class="btn btn-primary" type="submit">
							<i class="fas fa-magic"></i> Analyze Resume
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>
	<div class="flex-1 min-width-0">
		<div class="Box">
			<div class="Box-header d-flex flex-items-center">
				<h3 class="Box-title mb-0">
					<i class="fas fa-folder-open"></i> Batch Resume Processing
				</h3>
			</div>
			<div class="Box-body">
				<div class="info-box">
					<i class="fas fa-info-circle"></i> <strong>Batch Screening:</strong> Process multiple resumes and rank them by similarity to a job description.
				</div>
				<form action="{{ url_for('batch') }}" method="post">
					<div class="form-group mb-3">
						<div class="form-group-header">
							<label>
								<i class="fas fa-folder"></i> Resume Folder Path
								<span class="tooltip-icon" title="Full path to the folder containing resume files (PDF or DOCX)">ℹ️</span>
							</label>
						</div>
						<div class="form-group-body">
							<input name="resume_folder" type="text" class="form-control" value="{{ request.args.get('resume_folder', '') }}" placeholder="E:\\Python\\resume_screening\\resumes" required>
							<small class="color-fg-muted">Example: E:\Python\resume_screening\resumes</small>
						</div>
					</div>
					<div class="form-group mb-3">
						<div class="form-group-header">
							<label>
								<i class="fas fa-briefcase"></i> Job Description
								<span class="tooltip-icon" title="Paste the job description here. Resumes will be ranked by similarity to this text.">ℹ️</span>
							</label>
						</div>
						<div class="form-group-body">
							<textarea name="job_description" rows="6" class="form-control" placeholder="Enter job description here...">We are looking for a Python developer with experience in machine learning, data analysis, and web frameworks like Django or Flask. Must have skills in SQL and NLP.</textarea>
						</div>
					</div>
					<div class="d-flex flex-wrap gap-3 align-items-end">
						<div style="width:180px;">
							<div class="form-group-header">
								<label>
									Top Keywords
									<span class="tooltip-icon" title="Number of top keywords to extract from each resume">ℹ️</span>
								</label>
							</div>
							<div class="form-group-body">
								<input name="top_keywords" type="number" min="5" max="50" value="20" class="form-control">
							</div>
						</div>
						<div class="form-checkbox">
							<label>
								<input name="show_entities" type="checkbox" checked> 
								<i class="fas fa-tags"></i> Show Entities
							</label>
						</div>
						<div class="form-checkbox">
							<label>
								<input name="show_contact" type="checkbox" checked> 
								<i class="fas fa-address-card"></i> Show Contact
							</label>
						</div>
					</div>
					<div class="mt-3">
						<button class="btn btn-success" type="submit">
							<i class="fas fa-cogs"></i> Process Resumes
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
{% endblock %}
